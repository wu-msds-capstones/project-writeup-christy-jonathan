[
  {
    "objectID": "capstone.html",
    "href": "capstone.html",
    "title": "Exploring the Barriers to Affordable Housing in Oregon",
    "section": "",
    "text": "Introduction\nThe right to housing is recognized worldwide in numerous human rights legal documents, including the Universal Declaration of Human Rights, which the US signed in 1948. However, in recent years access to affordable housing has become a major obstacle to home ownership and affordable rent across the United States. The National Low Income Housing Coalition reports that the lack of affordable housing costs the American economy approximately $2 trillion annually in lost wages and productivity (NLIHC, 2022).\nDue to a large number of interconnected factors over the last 20 years that include rapid population growth, strict land use laws, land prices, neighborhood gentrification, interest rates, numerous unique issues caused by the COVID pandemic, and increased construction costs and permit fees, many states have seen housing affordability dwindle and homelessness grow.\n\n\n\n\n\n\nFigure 1: Median Home Price Increase vs Median Income Increase\n\n\n\nOregon, in particular, is experiencing a profound housing crisis characterized by an imbalance between the rapidly increasing demand for housing and the availability of affordable housing options. As the state’s population grows, particularly in urban centers such as Portland, Eugene, and Bend, the pressure on the housing market has intensified, leading to soaring home prices and rental rates. This trend has created significant challenges for low- and middle-income families, who are increasingly unable to find affordable housing. The severity of this issue calls for a comprehensive analysis of the barriers to affordable housing and the development of effective strategies to address them.\n\n\nBackground\nOregon is currently grappling with a significant housing crisis marked by a mismatch between the growing demand for housing and the availability of affordable housing options. This crisis has been exacerbated by a combination of rapid population growth, economic factors, and regulatory constraints. Understanding and addressing the barriers to affordable housing in Oregon is essential for developing effective strategies that can balance housing demand with affordability.\n\nPopulation Growth and Housing Demand\nOregon’s population has been growing steadily over the past decade. According to the U.S. Census Bureau, the state experienced a population increase of approximately 10.6% from 2010 to 2020 (U.S. Census Bureau, 2021). This growth has been concentrated in urban areas such as Portland, Eugene, and Bend, leading to increased demand for housing in these regions. As more people move to these urban centers for job opportunities and quality of life, the pressure on the housing market intensifies, driving up home prices and rental rates.\n\n\nEconomic Factors\nThe economic landscape in Oregon has also contributed to the housing affordability crisis. Rising construction costs, driven by increasing prices for labor and materials, have made it more expensive to build new housing units (National Association of Home Builders, 2021). Additionally, land prices in desirable urban areas have surged, further compounding the cost of housing development (Glaeser & Gyourko, 2018). These economic factors create significant barriers for developers seeking to build affordable housing.\n\n\nRegulatory and Policy Barriers\nRegulatory constraints, such as zoning laws and land use regulations, play a critical role in shaping the housing market in Oregon. Urban growth boundaries, while designed to prevent urban sprawl and protect natural landscapes, have limited the availability of developable land, thereby increasing housing costs (Phillips & Goodstein, 2000). Furthermore, restrictive zoning laws often favor single-family homes over higher-density developments, reducing the potential supply of affordable housing options (Pendall, 2020).\n\n\nStrategies to Address Housing Affordability\nVarious strategies have been proposed and implemented in Oregon to address the housing affordability crisis. Inclusionary zoning policies, for example, require or incentivize developers to include affordable units in new residential projects. The City of Portland has adopted such policies, aiming to increase the availability of affordable housing within new developments (City of Portland, 2017).\nState-level legislation, such as Oregon’s House Bill 2001, seeks to promote higher-density housing by allowing the construction of duplexes, triplexes, and fourplexes in areas previously zoned for single-family homes (Oregon Legislature, 2019). This approach is intended to increase the housing supply and provide more affordable options.\nPublic-private partnerships are another critical strategy, leveraging public funds and private sector expertise to finance and build affordable housing projects. For instance, the Portland Housing Bond, a voter-approved initiative, aims to create 1,300 new affordable housing units in the city (City of Portland, 2021).\nInnovative construction methods, including modular and prefabricated housing, offer potential solutions to reduce construction costs and increase the speed of housing production. These methods are being explored in Oregon as a way to address the housing shortage more effectively (Smith, 2021).\n\n\nResearch Objectives\nThis study aims to explore the barriers to affordable housing in Oregon by analyzing a comprehensive dataset that includes various economic and demographic factors and comparing those to key strategies that are used around the world to tackle housing affordability. By identifying some key factors that influence affordability, the study seeks to provide some insight for policymakers, developers, and community stakeholders into what strategies hold some promise at taming the affordability crisis.\n\n\n\nData\n\nProject Data Ideation\nIn this section, we address the significant lack of publicly available housing data, which has posed considerable challenges for our research. Although we successfully integrated ten years of Redfin data with demographic and economic indicators, there remain several critical data points we were unable to obtain. Notably, data extending beyond ten years, historical land prices, construction costs, and timelines for housing development were inaccessible. These gaps represent missed opportunities that could have enhanced the comprehensiveness of our dataset.\nDuring our literature review, we compiled a list of desired data features and attempted to locate them online. However, our searches frequently reached a dead end, especially on state websites. While Oregon provides data through PDF reports, there is no user-friendly repository, such as downloadable CSV files or APIs, offering access to extensive historical data. This limitation hindered our ability to create a more robust dataset for our analysis.\n\n\nData Acquisition\nThe acquisition of housing data proved challenging, particularly due to the restrictive nature of companies like Zillow in sharing their data. Consequently, we turned to Redfin, which offered the most comprehensive data on house sales. To augment our dataset and incorporate the “affordability” aspect of our research, we included national mortgage rates, median income, population, and estimated housing units per county.\nSeveral sources, such as census.gov, provide APIs for data access. However, we found it more practical to use their table explorer to download CSV files. The sheer volume of variables on census.gov necessitates an advanced search mechanism, including an AI-assisted search tool that offers intelligent data suggestions based on user queries. Once the desired table configuration is achieved, the tool can generate an API call for future data retrieval. Although this feature is beneficial for obtaining up-to-date data, it was not essential for our current project.\nWe encountered a variety of data formats from different sources, which necessitated significant data cleaning and preparation. A notable challenge was managing data provided as separate files for each year, resulting in an extensive number of files for our ten-year study period. To streamline this process, we concatenated these files, which involved transposing tables and manual data manipulation. We later automated this process with a Python script to make it more efficient.\nStandardizing county names and removing extraneous characters, such as dollar signs from prices, were additional tasks required to harmonize the dataset. Despite these challenges, the data was generally well-structured. The final dataset, categorized by the level of temporal and geographical granularity, is detailed in the Data Dictionary below. This structured approach facilitated the integration of diverse data sources into a cohesive Postgres database, enabling a thorough analysis of housing affordability in Oregon.\n\nData Sources\n\nHousing Data - Redfin Data Center\nRedfin provides a comprehensive dataset accessible through its data center, offering both graphical representations and downloadable files. The dataset spans from 2012 to the present and allows for geographic filtering specific to Oregon counties. We extracted data for all available years, encompassing all property types, and used raw values rather than year-over-year comparisons or seasonally adjusted figures.\n\n\nDemographic Data\n\nThe American Community Survey (ACS) 5-year estimates, conducted by the U.S. Census Bureau, offer extensive demographic data on various aspects of life in U.S. communities. From this source, we obtained county-level estimates for median income, rental vacancy rates, property taxes, and the number of housing units per year.\nHistorical population estimates for each county were sourced from the Portland State University Population Research Center.\nThe U.S. Department of Housing and Urban Development (HUD) user website provided yearly 50th percentile rent estimates for each county. For our analysis, we utilized the 2-bedroom rental estimates for each county and year.\n\n\n\nEconomic Indicator\nThe Federal Reserve Bank of St. Louis offers a robust collection of economic data, from which we obtained historical national data on 30-year mortgage rates. While county or state-level mortgage rate data was unavailable, we posited that state-level figures would approximate the national averages, with similar trends observable across the data.\nBy integrating these diverse datasets, our research aims to comprehensively examine housing affordability trends in Oregon, leveraging detailed demographic and economic indicators to provide a nuanced analysis.\n\n\n\n\nData Dictionary\n\nA housing unit is a house, an apartment, a mobile home, a group of rooms, or a single room that is occupied (or if vacant, is intended for occupancy) as separate living quarters. Separate living quarters are those in which the occupants live and eat separately from any other persons in the building and which have direct access from the outside of the building or through a common hall.\n\n\n\n\n\n\n\nData Dictionary - Features, Descriptions, and Sources (Click to Expand)\n\n\n\n\n\n\nTable 1 - Redfin Data, Monthly By County, All features provided by Redfin DataCenter\n\n\n\n\n\n\nFeature\nDescription\n\n\n\n\ncounty\nOregon county\n\n\ndate\nDate in yyyy/mm/dd format\n\n\ninventory\nTotal number of active listings on the market on the last day of the time period.\n\n\nmedian_sale_price\nThe median final sale price of homes that sold during a given time period\n\n\nhomes_sold\nCount of closed home sales during a given time period\n\n\nnew_listings\nTotal number of homes listed for sale during a given time period\n\n\ndays_on_market\nThe median number of days homes that went under contract during a given time period spent on the market before going under contract\n\n\naverage_sale_to_list\nA measurement of how close the typical home’s final price was to its original list price. It is calcualted as an average of the ratio each home sold during a given period price divided by its list price\n\n\n\n\n\nTable 2 - Demographic Data By Year and County\n\n\n\n\n\n\n\nFeature\nDescription\nSource\n\n\n\n\ncounty\nOregon county\nAll table sources\n\n\nyear\nDate sampled or calculated in yyyy format\nAll table sources\n\n\nmedian_income\nEstimated median income per county - inflation adjusted US Dollars\nCensus variable S1901\n\n\nmedian_rent_2bdrm\nMedian rent for a 2 bedroom dwelling\nHUDuser.gov\n\n\nnum_housing_units\nEstimated total number of housing units per county\nCensus variable B25001\n\n\npopulation\nEstimated population per county\nPortland State Population Research\n\n\nrental_vacancy\nEstimated percentage of rental vacancy rate per county\nCensus variable CP04\n\n\nproperty_tax\nEstimated median real estate tax paid for units with a mortgage per county\nCensus variable B25103\n\n\n\n\n\nTable 3 - National Monthly Mortgage Rate Data - Feature provided by Federal Reserve Bank St. Louis\n\n\n\n\n\n\nFeature\nDescription\n\n\n\n\ndate\nDate in yyyy/mm/dd format\n\n\nmonthly_average_mortgage_rate\nNational average mortgage rate for a 30 year mortgage\n\n\n\nAll links open in a new tab.\n\n\n\n\n\nData Storage\nUpon completing the data acquisition and cleaning processes, we compiled the following CSV files, each containing 10 years of data from 2012 to 2022:\n1.  Oregon Population Estimates per County\n2.  Monthly Average National Mortgage Rates for a 30-Year Mortgage\n3.  Census Estimates for Yearly Income\n4.  Census Estimates for Yearly Number of Housing Units\n5.  Census Estimates for Yearly Rental Vacancy Rates\n6.  Census Estimates for Yearly Real Estate Taxes\n7.  Median Rental Prices for a 2-Bedroom Unit\n8.  Redfin Housing Data\nThese datasets were imported into temporary tables using an SQL script, facilitating the creation of a comprehensive database through joins based on county and year. The final Entity-Relationship Diagram (ERD) is illustrated in the figure below.\nBy joining our resulting tables, were able to use this database to create the initial dataset, output to a CSV file, to use for our analysis.\n\n\n\n\n\n\nFigure 2: Data ERD\n\n\n\n\n\nFeature Engineering\nWe were able to obtain a number of features related to affordability, including current rental prices, national monthly mortgage rates, median_sales_prices. These allowed us to create new variables specifically targeted to affordability.\n\nReconciling Monthly and Yearly Data\nWe noticed odd things when we plotted monthly vs yearly data in our scatter plot graphs. Our data took on clumped column shapes. And it did not seem representative of what happens in reality. A county’s median income does not suddently increase from one year to the next, for example. Many of these variables will be different over smaller increments of time. While consulting with our project statistician, Hank Ibser, he suggested that smoothing the transition of the yearly variables by taking the average change and cumulatively increasing (or decreasing) the feature amount over the number of months of county data would be a better way to deal with the features than to leave large jumps from year to year. This left the question of what to do with the last year of data, since we do not have numbers beyond 2022. We decided to average all of the previous deltas and apply that as our step up or down, then proceeded to multiply that by the number of months of data we had and apply the incremental steps to the original rows. We smoothed out the transitions in this way for the following variables: median_income, population, num_housing_units, median_rent_2bdrm, and rental_vacancy.\nThese feature transitions were smoothed using the following formula:\nIf year &lt; 2022:\n\n\\[ mc = \\frac{nyv - cyv}{n} \\]\n\n\n\\[ \\sum_{i = 1}^{n}i{(mc)} \\]\n\nIf year = 2022:\n\n\\[ amc = \\frac{\\sum_{i = 1}^{j}{mc}}{j} \\]\n\n\n\\[ \\sum_{i = 1}^{n}i{(mc)} \\]\n\nWhere: n = number of rows of data for the county in a year nyv = the next year value for the feature cyv = current year value for the feature mc = change per 1 month amc = average month changes for all previous years j = the number of monthly changes (mc) we calculated for previous years anyv = average of the all year averages\n\n\nMonthly Housing Payment: monthly_housing_payment\nWe then created a variable to hold the median monthly mortgage payment, using the following formula:\n\n\\[ M = .8P \\frac{I(1 + I)^N }{(1 + I)^N − 1} \\]\n\nWhere: M = monthly_housing_payment P = median_sale_price I = monthly_avg_mortgage_rate N = 360 (the number of total payments over 30 years)\nWe made this calculation based on a 20% down payment and a 30-year fixed term. This is a big assumption, but gives us a baseline to look at affordability.\n\n\nMonthly Median Income: monthly_median_income\n\n\\[ mmi = \\frac{mi}{12} \\]\n\nWhere: mmi = monthly_median_income mi = median_income\n\n\nMonthly Affordable Housing Payment: monthly_affordable_housing_payment\nThis feature holds the maximum housing payment considered affordable, based on the HUD’s affordability threshold of 30%.\n\n\\[ mahp = .3 x mmi \\]\n\nWhere: mahp = monthly_affordable_housing_payment mmi = median_income\n\n\n\n\nMethods\nThe inputs to housing affordability are complex and, often times, intertwined.\n\nRental vs Home Ownership - An Early Project Decision Point\nThe aim of this project was to primarily look into unaffordable housing and housing consists, primarily, of 2 kinds of housed individuals: those who rent and those who own a home. To decide if we should be focused on both rental unit prices and current home sales, we looked at the current affordability strategies and compared them with our data to determine the most immediate need.\n\nEvaluation of the current rental situation:\nAbout 33% of Oregonians rent, based on the most up-to-date U.S. Census numbers (Oregon’s Homeownership Rate, n.d.). We evaluated, median_rent_2bdrm vs monthly_affordable_housing_payment county-by-county to assess whether Oregonians are paying an unaffordable amount of rent each month. You can see in the graph below that rental prices sit comfortably under the maximum affordable threshold. Becuase of this, we decided to focus on home sale prices for the rest of our analysis. \n\n\n\n\n                                                \n\n\nFigure 3: Median rent for a 2 bedroom vs Maximum affordable housing price\n\n\n\n\n\n\n\nProject Design\n\nSummary\nIn this study, we sought to identify dataset features associated with a set of researched housing strategies. First, we curated a list of relevant features and then narrowed it down by identifying those with the highest percentages of housing transactions that show significant linear associations with median sale prices. Next, we fitted linear models for each county to assess how these factors influence housing prices and in what direction.\nTo capture more complex, potentially non-linear relationships, we also employed a random forest machine learning model. This allowed us to evaluate the importance of each feature based on our original list of strategies.\nThese methodologies enable us to determine the most critical factors to focus on, such as increasing the housing supply, when formulating housing strategies. Put simply, you can think of the design as a funnel where each step takes the next logical progression in finding a set of strategy-associated features that affect the median sale price the most.\n\n\n1. Materials List (Software used)\n1.  python v3.12.4  \n2.  sklearn v1.5.1 for linear regression and random forest\n3.  SciPy v1.14.0\n4.  statsmodels v0.14.1\n5.  seaborn v0.13.2, matplotlib v3.9.0, and plotly v5.23.0 for visualizations\n6.  pandas v2.2.2 and numpy v2.0 for data manipulation\n7.  pymannkendall v1.4.3\n7.  OpenAI ChatGPT4 and Anthropic Claude3.5 Sonet\n\n\n2. Research and Identification of Core Strategies - A way to refine the dataset to targeted variables\nGiven the ultimate goal of this project to identify strategies that can help balance demand with the rising cost of housing, we began by conducting a comprehensive review of current strategies addressing housing affordability. This review aimed to identify the fundamental objectives of these strategies, such as increasing housing inventory, stabilizing rental prices, and enhancing accessibility for low-income households. The result of this review is a list of strategies and their respective goals, as detailed below.\nTo evaluate these strategies in relation to the data we collected, we needed to determine if any of the stated goals were directly or indirectly associated with our dataset. Initially, we attempted to make these associations ourselves, but recognizing our limitations as non-experts in housing policy, we sought assistance from AI tools. We utilized Anthropic’s Claude AI and OpenAI’s ChatGPT to analyze our dataset and tag each strategy goal with both direct and indirect associations to the dataset features. We found the intersecting sets of features curated from their responses were close in size to our original set.\nWe therefore went forward with our analysis using this newly curated set. This approach also served as a validation step, ensuring that we had obtained some of the necessary data for the project.\nFor creating the AI prompt, we uploaded a CSV containing all data from our PostgreSQL database, a markdown file with the complete data dictionary, and a list of strategies and goals. The prompt used for the AI analysis was as follows:\n“Using the attached dataset and data_dictionary.md data dictionary, identify direct and indirect associations between the strategy goals and the dataset features.”\n\n\n\n\n\n\nStrategy Goal List - Click to Expand\n\n\n\n\n\n\n\n\n\n\n\n\nStrategy/Goal\nExplanation\n\n\n\n\nInclusionary Zoning\nPolicies require developers to include affordable housing units in new projects.\n\n\nDensity Bonuses\nDevelopers can build more units than normally allowed in exchange for including affordable housing units.\n\n\nTax Increment Financing (TIF)\nUses future gains in property taxes to finance current improvements, such as affordable housing developments.\n\n\nLow-Income Housing Tax Credits (LIHTC)\nProvides tax credits to private developers for building or rehabilitating affordable rental housing.\n\n\nCommunity Land Trusts (CLTs)\nNonprofit organizations acquire and hold land to ensure it remains affordable for housing.\n\n\nPublic-Private Partnerships\nCollaboration between government agencies and private developers to create affordable housing projects.\n\n\nRent Control and Stabilization\nLimits the amount by which rents can increase annually.\n\n\nAccessory Dwelling Units (ADUs)\nSmaller, independent residential units located on the same lot as a single-family home.\n\n\nHousing Vouchers\nPrograms like Section 8 provide subsidies to low-income households to help them afford rental housing in the private market.\n\n\nStreamlining Permitting and Reducing Regulations\nSimplifying the permitting process and reducing unnecessary regulations can lower the cost and time required to build housing.\n\n\nLand Banking\nLand banks acquire, hold, and manage vacant or underutilized land for future development of affordable housing.\n\n\nIncreased Funding for Affordable Housing Programs\nIncreasing funding for affordable housing programs can support the construction and maintenance of affordable units.\n\n\nSupportive Housing\nCombines affordable housing with on-site services to help individuals with special needs, such as those experiencing homelessness.\n\n\n\n\n\n\n\n\n\n\n\n\nAnthropic Claud AI feature tagging - Click to Expand\n\n\n\n\n\nGoals and Associated Features in the Dataset\n\n\n\n\n\n\n\n\nStrategy\nDirect Associations\nIndirect Associations\n\n\n\n\nInclusionary Zoning\nnew_listings, inventory\nmedian_sale_price, homes_sold\n\n\nDensity Bonuses\nnew_listings, inventory\nmedian_sale_price, days_on_market\n\n\nTax Increment Financing (TIF)\n\nnew_listings, median_sale_price, property_tax\n\n\nLow-Income Housing Tax Credits (LIHTC)\nnew_listings\ninventory, median_sale_price\n\n\nCommunity Land Trusts (CLTs)\nmedian_sale_price\ninventory, average_sale_to_list\n\n\nPublic-Private Partnerships\n\nnew_listings, homes_sold\n\n\nRent Control and Stabilization\nN/A (primarily affects rentals)\nN/A (primarily affects rentals)\n\n\nAccessory Dwelling Units (ADUs)\n\nnew_listings, inventory, median_sale_price\n\n\nHousing Vouchers\nN/A (primarily affects rentals)\nN/A (primarily affects rentals)\n\n\nStreamlining Permitting and Reducing Regulations\n\nnew_listings, days_on_market\n\n\nLand Banking\n\nnew_listings, inventory\n\n\nIncreased Funding for Affordable Housing Programs\n\nnew_listings, inventory, median_sale_price\n\n\nSupportive Housing\n\nnew_listings, inventory\n\n\n\nGeneral observations: * population and num_housing_units: Indirectly affected by many strategies * median_income: Provides context for affordability * monthly_average_mortgage_rate: Impacts overall affordability but not directly influenced by local strategies\n\n\n\n\n\n\n\n\n\nOpenAI ChatGPT feature tagging - Click to Expand\n\n\n\n\n\nGoals and Associated Features in the Dataset\n\n\n\n\n\n\n\n\n\nStrategy\nGoal\nDirectly Associated Features\nIndirectly Associated Features\n\n\n\n\nInclusionary Zoning\nIncrease the stock of affordable housing\nnew_listings, inventory, median_sale_price, num_housing_units\nmedian_income, population, property_tax\n\n\nDensity Bonuses\nIncrease the overall supply of affordable units\nnew_listings, inventory, median_sale_price, num_housing_units\nmedian_income, population, property_tax\n\n\nTax Increment Financing (TIF)\nFund affordable housing projects\nproperty_tax, median_sale_price\nmedian_income, population, num_housing_units\n\n\nLow-Income Housing Tax Credits (LIHTC)\nIncrease the supply of affordable rental units\nmedian_sale_price, homes_sold\nmedian_income, population, property_tax\n\n\nCommunity Land Trusts (CLTs)\nMaintain long-term affordability\nmedian_sale_price, inventory\nmedian_income, population, property_tax\n\n\nPublic-Private Partnerships\nEfficiently develop affordable housing\nnew_listings, inventory, median_sale_price\nmedian_income, population, property_tax\n\n\nRent Control and Stabilization\nPreserve affordability\nmedian_sale_price, days_on_market\nmedian_income, population, inventory\n\n\nAccessory Dwelling Units (ADUs)\nIncrease the supply of affordable rental housing\nnum_housing_units, new_listings\nmedian_income, population, property_tax\n\n\nHousing Vouchers\nMake housing more affordable\nmedian_sale_price, homes_sold\nmedian_income, population, property_tax\n\n\nStreamlining Permitting and Reducing Regulations\nEncourage the construction of more housing units\nnew_listings, inventory, days_on_market\nmedian_income, population, property_tax\n\n\nLand Banking\nIncrease the supply of affordable units\nnew_listings, inventory, median_sale_price\nmedian_income, population, property_tax\n\n\nIncreased Funding for Affordable Housing Programs\nDevelop, preserve, and subsidize affordable housing\nmedian_sale_price, homes_sold, new_listings\nmedian_income, population, property_tax\n\n\nSupportive Housing\nStabilize vulnerable populations\nmedian_sale_price, homes_sold, new_listings\nmedian_income, population, property_tax\n\n\n\n\n\n\n\n\n\n3. Data Exploration and Initial Analysis\n\nHandling Different Types of Data and Choosing an Analysis Dataset\nWe have several kinds of features in our dataset at this point:\n\nData sourced through public websites\nEngineered Features\nSmoothed yearly data\n\nWhen and how we use this data is an important aspect in our analysis and results. We found our engineered features to be very useful for determining trends and identifying when pricing became unaffordable, but those features were created directly from other features in the set, obfuscating the raw data as indicators of housing prices. We briefly left those features in and found their significant correlation with the raw features to be detracting from getting a base-level understanding of what affects housing pricing.\nAnother important piece of our data is its time series aspect. For Linear Regression analysis and the Random Forest model, this data dimension is removed so that we can focus on what features correlate to housing prices, regardless of time.\nAfter the analysis of the strategy list tagged with feature names, we chose a feature set to move forward and further refine using various kinds of correlation.\n\n\nHandling Missing Data\nA review of our dataset revealed missing data in the following features: new_listings, inventory, days_on_market, and average_sale_to_list.\nA deeper inspection shows these values missing in the more sparsely Oregon counties, where home sales do not necessarily happen every month. To handle these, we decided to fill these with 0 values rather than drop the entire row.\nIn these sparsely populated counties, there are also fewer rows of home sales due to the fact that there are so few homes that sell in these areas.\n\n\n\n4. Identification of Significant Features\n\nCorrelation Studies\nCorrelation studies gather evidence of association between our feature list and the median house pricing. In this section, we look at scatter plots, trend analysis, and linear regression exploration of each county in Oregon.\n\nScatter Plots\n\nSince the dataset is sectioned into counties, looking at scatter plots makes most sense when aggregating by counties. Patterns of correlation start to emerge when looking at county-aggregated cross-sections of the dataset.\nUsing Pairplot from the Seaborn library, we looked at bivariate scatter plots on the aggregated cross-sections to determine variable associations. These plots give an indications of whether linear regression could be a good first model.\n\nTrend Analysis\n\nAll of our gathered data is time-series data. It is important to explore the associated temporal trends in the data to identify what indicators of our feature set are significant and in what direction they are trending. We used the Mann-Kendall seasonality test to measure these trends by county for each feature in our feature set with an association to median sale price.\n\nLinregress, a quick fit to measure significance\n\nWe analyzed 36 counties in our dataset to identify which features have a significant association with the highest number of homes sold in Oregon. We developed an algorithm that uses the linregress from the SciPy Stats library and calculates the sum of the percentages of homes sold in each county where a feature is significant. For example, Washington County accounts for about 15% of all homes sold in Oregon during the period covered by our dataset. If a feature is only significant in Washington County, its representation among all homes sold in Oregon would be 15%. We set a p-value threshold of 0.05 for significance and required that significant features be present in at least 90% of home sales to be considered. See Figure 4 below for more details.\n\n\n\n\n\n\nFigure 4: Feature Significance Representation in Oregon Home Sales\n\n\n\nThis further refined the set of features that we will consider for a multiple linear regression model.\n\nTesting For Multicollinearity\n\nOne potential factor that may lead to unexpectedly favorable results in a regression analysis is the presence of multicollinearity among the independent variables. To address this issue, we utilized the Variance Inflation Factor (VIF) from the Statsmodels library to evaluate all possible combinations of our remaining variables. By applying a VIF threshold of 10, we were able to identify viable sets of features suitable for inclusion in a multiple linear regression model. To ensure the robustness of our feature selection, we conducted this analysis on both the most and least populated counties.\n\n\n\n5. Building a Linear Regression Model\nOur prior analysis identified a subset of feature combinations suitable for fitting a linear regression model. This subset was sufficiently manageable to allow us to fit linear regression models to all combinations. We then created training and testing datasets with a 70%/30% split and utilized Scikit-learn’s LinearRegression library to evaluate the performance of each combination.\nBy identifying models with a good fit, we were able to determine the relevant features and compare them with our random forest model. To ensure the validity of our models, we applied the Anderson-Darling test to verify that the residuals followed a normal distribution, which is crucial for evaluating the model’s fit. A p-value less than 0.05 in the Anderson-Darling test indicated that the residuals were not normally distributed for that particular combination of features.\nLinear regression is an essential tool for understanding the magnitude and direction of a feature’s impact on the target variable. Our analysis revealed differences in model fit between densely populated and sparsely populated counties. We selected a representative county from each category to illustrate these differences. For each model fit, we measured the following values:\n\nR-squared\nMean Absolute Error (MAE)\nMean Squared Error (MSE)\nRoot Mean Squared Error (RMSE)\nMean Absolute Percentage Error (MAPE)\nMax Error\nMean Squared Log Error\nMedian Absolute Error\nMean Poisson Deviance\nMean Gamma Deviance\n\n\n\n6. Building a Random Forest Model\nRandom Forest machine learning models are advantageous for capturing the effects of features on a target variable more comprehensively than linear regression. Therefore, fitting a Random Forest Regressor model is beneficial. We employed a two-step approach: initially fitting the model to all strategy-tagged features and subsequently assessing feature importance to identify the most significant contributors. The model was then re-run using these key features.\nWe utilized Scikit-learn’s RandomForest library to train and test the dataset. Additionally, we employed the permutation_importance function from the sklearn library to determine the importance of various features. A Random Forest Regressor model was constructed and evaluated to validate these findings. For each county, we measured the following values:\n\nR-squared\nMean Absolute Error (MAE)\nMean Squared Error (MSE)\nRoot Mean Squared Error (RMSE)\nMean Absolute Percentage Error (MAPE)\nMax Error\nMean Squared Log Error\nMedian Absolute Error\nMean Poisson Deviance\nMean Gamma Deviance\n\nWe were then ready to compare and contrast our feature findings.\n\n\n\n\nResults\n\nResearch and Identification of Core Strategies\nUsing the analysis of the strategy-tagged features above, we moved forward with the following set of indicators to analyze:\nindependent variables = new_listings, inventory, num_housing_units, median_income, population, property_tax, homes_sold, days_on_market\ndependent variable = median_sale_price\nScatter Plot Samples\nWhat we found early on in the analysis was that there is a big difference in how features respond to median_sale_prices depending on the county density. For example, the following scatter plot clusters are from Washington and Wheeler Counties. This is a trend that will show up all through the analysis.\n\n\n\n\n\n\n\n\nWashington County Scatterplots\n\n\n\n\n\n\n\nWheeler County Scatterplots\n\n\n\n\n\n\nFigure 5\n\n\n\nTrend Plots and MK numbers\nTrend analysis for time series is interesting to plot. We found out a lot about this data by plotting this data over time. You can see in the trends below that the densely populated counties (top 2 graphs) are trend in a similar manner, but differ from the sparsely populated counties (bottom 2 graphs).\n\n\n\n\n\n\nFigure 6: Home Sale Price Trend in Densely Populated vs Sparsely Populated Oregon Counties\n\n\n\nTrends can also show us where housing payments began to become unaffordable, like in the figure below.\n\n\n\n\n\n\nFigure 7: housing_unaffordability.png\n\n\n\nHomes Sold Feature Significance\nAfter the home sold feature significance study, we narrowed the features to:\n\n\n\nfeature\npercent of home sales represented\n\n\n\n\ninventory\n99.91256033101263\n\n\nnum_housing_units\n99.984587972013\n\n\nmedian_income\n99.984587972013\n\n\npopulation\n99.1469914305979\n\n\nproperty_tax\n99.984587972013\n\n\ndays_on_market\n99.81316847705574\n\n\n\nLinear Regression - linear plot samples for populated and unpopulated counties\nWashington County Results - heavily populated county\n\nIndependent Variable Combination: [‘num_housing_units’, ‘days_on_market’, ‘inventory’]\nEvaluation Statistics: R^2: 0.9550268107703429, MAE: 18.991051374287636, RMSE: 24.584835761694823\nAnderson-Darling test for residuals: below 0.05 generally means non-normal: 0.060124359532653535\nCoefficients:\n\nnum_housing_units = 84.85562076,\ndays_on_market = -8.46017593,\ninventory = -1.06431453\n\n\nThis coefficient for num_housing_units a strong indicator that if you increase housing units, median house prices will rise. This is surprising given that a lot of the focus is on building more housing at a faster pace.\nWheeler County Results - sparsely populated county\n\nIndependent Variable Combination: [‘num_housing_units’, ‘days_on_market’, ‘inventory’]\nEvaluation Statistics: R^2: 0.02140717912691359, MAE: 134.56532825628832, RMSE: 185.9532651361748\nAnderson-Darling test for residuals: below 0.05 generally means non-normal: 2.099955001334869e-12\nCoefficients:\n\nnum_housing_units = 18.18540814,\ndays_on_market= 30.85635937,\ninventory = -29.20292623\n\n\nFindings:\n\nRegression fits well to densely populated counties with a median sale price target.\nSparsely populated counties are best modeled by collected data to median sale prices.\n\nRandom Forest Model - Feature importances, decision tree, table of results\nModel test statistics for Washington County:\n\n\n\nMetric\nValue\n\n\n\n\nMean Absolute Error (MAE)\n7.522343744087813\n\n\nMean Squared Error (MSE)\n104.32109361078466\n\n\nRoot Mean Squared Error (RMSE)\n104.32109361078466\n\n\nMean Absolute Percentage Error (MAPE)\n0.01931186065104155\n\n\nExplained Variance Score\n0.9885975711129124\n\n\nMax Error\n46.91661360861349\n\n\nMean Squared Log Error\n0.0006227441802917824\n\n\nMedian Absolute Error\n6.501995768773753\n\n\nR^2\n0.9885829946465465\n\n\nMean Poisson Deviance\n0.2447723229456236\n\n\nMean Gamma Deviance\n0.0006260260341751169\n\n\n\nModel test statistics for Wheeler County:\n\n\n\nMetric\nValue\n\n\n\n\nMean Absolute Error (MAE)\n74.479156903197\n\n\nRoot Mean Squared Error (RMSE)\n8274.479156903197\n\n\nMean Absolute Percentage Error (MAPE)\n0.6771181405050725\n\n\nExplained Variance Score\n0.6352815417171738\n\n\nMax Error\n321.35144577975683\n\n\nMean Squared Log Error\n0.3436727515864253\n\n\nMedian Absolute Error\n67.40806586081992\n\n\nR^2\n0.6351549430802184\n\n\nMean Poisson Deviance\n40.06686486557459\n\n\nMean Gamma Deviance\n0.27567274349559723\n\n\n\nRandom Forest Feature Importance:\n\n\n\n\n\n\nFigure 8: Random Forest Feature Importance\n\n\n\nResultant Forest Decsion Tree:\n\n\n\n\n\n\nFigure 9: Random Forest Decision Tree\n\n\n\n\n\n\nConclusions\nOur results depend on what kind of counties we are looking at. Sparsely populated county home sales are mostly land sales and not at all like the dynamics seen in densely populated counties. A one-fit model is inadequate to cover all Oregon counties.\nHowever, these sparsely populated counties also do not represent a large portion of the housing market. The data for these counties is often missing and, when inspected, you find that the “house” sales reported in by Redfin would be more accurately described as “land” sales. Our data does not seem to fit these kinds of transactions or model why they would be rising in price.\nThe evidence we found that a positive increase in the number of housing units is correlated to an increase in housing prices is interesting. We found several articles suggesting that building more housing positively affects affordability depending on where you build - that not all places and all areas will see a price relief with more housing units. We will dig into this more in the next week.\n\n\nReference\nOregon’s Homeownership Rate. (n.d.). https://ipropertymanagement.com/research/homeownership-rate-by-state?u=%2Fresearch%2Fhomeownership-rate-by-state#oregon.\nCity of Portland. (2017). Inclusionary Housing. Retrieved from City of Portland website\nCity of Portland. (2021). Portland Housing Bond. Retrieved from City of Portland website\nGlaeser, E. L., & Gyourko, J. (2018). The Economic Implications of Housing Supply. Journal of Economic Perspectives, 32(1), 3-30.\nNational Association of Home Builders. (2021). The Economic Impact of Home Building in Oregon. Retrieved from NAHB website\nOregon Legislature. (2019). House Bill 2001. Retrieved from Oregon Legislature website\nPhillips, J., & Goodstein, E. (2000). Growth Management and Housing Prices: The Case of Portland, Oregon. Contemporary Economic Policy, 18(3), 334-344.\nPendall, R. (2020). From Zoning to Smart Growth. In E. S. Belsky, & N. P. Retsinas (Eds.), Revisiting Rental Housing: Policies, Programs, and Priorities. Brookings Institution Press.\nSmith, R. E. (2021). Off-Site and Modular Construction Explained. London: Taylor & Francis.\nU.S. Census Bureau. (2021). QuickFacts: Oregon. Retrieved from U.S. Census Bureau website\nZillow. (2021). Portland Home Prices & Values. Retrieved from Zillow website\nU.S. Census Bureau. HOUSING UNITS. American Community Survey, ACS 5-Year Estimates Detailed Tables, Table B25001. Retrieved July 28, 2024, from https://data.census.gov/table/ACSDT5Y2019.B25001?q=number of housing units in oregon counties.\nU.S. Census Bureau. “COMPARATIVE HOUSING CHARACTERISTICS.” American Community Survey, ACS 5-Year Estimates Comparison Profiles, Table CP04, https://data.census.gov/table/ACSCP5Y2019.CP04?q=CP04 oregon counties. Accessed on July 28, 2024.\nU.S. Census Bureau. “MORTGAGE STATUS BY MEDIAN REAL ESTATE TAXES PAID (DOLLARS).” American Community Survey, ACS 5-Year Estimates Detailed Tables, Table B25103, https://data.census.gov/table/ACSDT1Y2019.B25103?q=B25103 oregon counties. Accessed on July 28, 2024.\nU.S. Census Bureau. “INCOME IN THE PAST 12 MONTHS (IN 2011 INFLATION-ADJUSTED DOLLARS) .” American Community Survey, ACS 5-Year Estimates Subject Tables, Table S1901, https://data.census.gov/table/ACSST1Y2011.S1901?q=median household income in oregon counties. Accessed on July 28, 2024."
  },
  {
    "objectID": "data_dictionary.html",
    "href": "data_dictionary.html",
    "title": "",
    "section": "",
    "text": "Feature\nDescription\n\n\n\n\ncounty\nOregon county\n\n\ndate\nDate sampled or calculated in yyyy/mm/dd format\n\n\ninventory\nTotal number of active listings on the market on the last day of the time period.\n\n\nmedian_sale_price\nThe median final sale price of homes that sold during a given time period\n\n\nhomes_sold\nCount of closed home sales during a given time period\n\n\nnew_listings\nTotal number of homes listed for sale during a given time period\n\n\ndays_on_market\nThe median number of days homes that went under contract during a given time period spent on the market before going under contract\n\n\naverage_sale_to_list\nA measurement of how close the typical home’s final price was to its original list price. It is calcualted as an average of the ratio each home sold during a given period price divided by its list price\n\n\ncounty\nOregon county\n\n\nyear\nDate sampled or calculated in yyyy format\n\n\nmedian_income\nEstimated median income per county - inflation adjusted US Dollars\n\n\nnum_housing_units\nEstimated total number of housing units per county\n\n\npopulation\nEstimated population per county\n\n\nproperty_tax\nEstimated median real estate tax paid for units with a mortgage per county\n\n\nmonthly_average_mortgage_rate\nNational average mortgage rate for a 30 year mortgage"
  }
]